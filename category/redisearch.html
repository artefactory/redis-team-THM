<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>Team THM - RediSearch</title>
        <link rel="stylesheet" href="https://artefactory.github.io/redis-team-THM/theme/css/main.css" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="https://artefactory.github.io/redis-team-THM/">Team THM</a></h1>
                <nav><ul>
                    <li><a href="https://artefactory.github.io/redis-team-THM/category/machine-learning.html">Machine Learning</a></li>
                    <li><a href="https://artefactory.github.io/redis-team-THM/category/mlops.html">MLOps</a></li>
                    <li class="active"><a href="https://artefactory.github.io/redis-team-THM/category/redisearch.html">RediSearch</a></li>
                    <li><a href="https://artefactory.github.io/redis-team-THM/category/team.html">Team</a></li>
                    <li><a href="https://artefactory.github.io/redis-team-THM/category/thm-cli.html">THM CLI</a></li>
                    <li><a href="https://artefactory.github.io/redis-team-THM/category/thm-indexing.html">THM Indexing</a></li>
                </ul></nav>
        </header><!-- /#banner -->

            <aside id="featured" class="body">
                <article>
                    <h1 class="entry-title"><a href="https://artefactory.github.io/redis-team-THM/redis-vss.html">Redis Vector Similarity Search</a></h1>
<footer class="post-info">
        <abbr class="published" title="2022-10-26T16:00:00+02:00">
                Published: Wed 26 October 2022
        </abbr>
		<br />
        <abbr class="modified" title="2022-10-26T16:00:00+02:00">
                Updated: Wed 26 October 2022
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="https://artefactory.github.io/redis-team-THM/author/tom-darmon.html">Tom Darmon</a>
                        <a class="url fn" href="https://artefactory.github.io/redis-team-THM/author/henrique-brito.html">Henrique Brito</a>
                        <a class="url fn" href="https://artefactory.github.io/redis-team-THM/author/michel-hua.html">Michel Hua</a>
        </address>
<p>In <a href="https://artefactory.github.io/redis-team-THM/category/redisearch.html">RediSearch</a>.</p>
<p>tags: <a href="https://artefactory.github.io/redis-team-THM/tag/redis.html">redis</a> <a href="https://artefactory.github.io/redis-team-THM/tag/search.html">search</a> </p>
</footer><!-- /.post-info --><p><em>Day 5 - when we investigated the problem of similarity search</em></p>
<h1>State of the Art</h1>
<p>Search engines already existed in the 2010 with technology such as Lucene and <a href="https://www.elastic.co/elasticsearch/">Elasticsearch</a>, for text-based search. The problem of similarity search, for numerical vector-based search, then came up, and large companies found out it brought great user experiences. This new technique, in fact, allowed spotting similar patterns and revealing connections between the contents.</p>
<p>In 2015, Spotify was one of the first large Internet companies to use these algorithms in production, when Erik Bernhardsson open sourced <a href="https://github.com/spotify/annoy"><code>spotify/annoy</code></a>.</p>
<p>In 2017, Facebook then released <a href="https://github.com/facebookresearch/faiss"><code>facebookresearch/faiss</code></a> to enable searching multimedia documents that are similar to each other, indexing a record of billions of documents using GPU</p>
<p>Other open source projects such as <a href="https://github.com/perone/euclidesdb"><code>perone/euclidesdb</code></a> then enabled developers to use the embeddings comparison concepts to be hosted on a database.</p>
<div align="center">
    <img src="https://euclidesdb.readthedocs.io/en/latest/_images/arch.png" width=500>
</div>

<p>Then, BERT models began to outperform most of the models, introducing a new era for NLP. In 2020, GCP also proposed a similarity search experience using Apache Beam and Annoy, which later moved to VertexAI.</p>
<p>HuggingFace and OpenAI then largely disrupted access to deep learning models and made embeddings easier to use than ever. Having a good machine learning model that turns sentences into a vector representation is indeed essential in the process.</p>
<h1>Redis Vector Similarity Search</h1>
<p>Redis Vector Similarity Search (VSS) is an extension in the continuity of the previous works, it allows users already familiar with Redis to perform vector similarity queries using the <a href="https://redis.io/commands/ft.search/"><code>FT.SEARCH</code></a> command.</p>
<p>Developers can easily load, index, and query vectors, and these vectors come from a variety of unstructured data.</p>
<div align="center">
    <img src="https://redis.com/wp-content/uploads/2022/05/rediscover-redis-for-vector-similarity-search-similarity-searches-1024x580.png" width=500>
</div>

<p>Using Hashes, RediSearch is capable of maintaining two types of indexing <code>FLAT</code>, which is a naive indexing method, and <code>HNSW</code> (<em>Hierarchical Navigable Small World</em>) which is derived from earlier Facebook's work. Distance metrics include Euclidean distance <code>L2</code>, Internal product <code>IP</code> and Cosine distance <code>COSINE</code>, which are common ways to evaluate how close vectors are to each other.</p>
<p>All this process can happen in real time, meaning you can write or update indexes to RediSearch anytime you want while serving requests to your users.</p>
<p>To store embeddings in Redis Hashes, you have to encode the vector data in binary mode, like that was the case in the demo code. Another alternative is to store it in clear text, and this might be more convenient.</p>
<p>The space of embeddings can be searched using two methods, <code>KNN</code> (k Nearest neighbours) and <code>VECTOR_RANGE</code>. The demo was about using KNN, but studying the <a href="https://redis.io/docs/stack/search/reference/vectors/#querying-vector-fields">difference between the two</a> can help. The Redis documentation could provide more examples for this, as it is hard to find what to choose in which situations.</p>
<p>Using these different algorithms, Redis can then return the top 100 most semantically similar sentences across millions of documents, ordered by increasing vector distance.</p>
<p>RediSearch is a piece of technology that bridges the gap between data science teams who know how to build models, and production environments thus allowing data science and data engineering teams to work together on the same platform.</p>
<p>It also provides a real-time endpoint where users can formulate live queries and retrieve the most relevant documents.</p>
<h1>References</h1>
<h2>State of the Art of Similarity Search</h2>
<ul>
<li><a href="https://www.slideshare.net/erikbern/approximate-nearest-neighbor-methods-and-vector-models-nyc-ml-meetup">Erik Bernahardsson - Approximate nearest neighbors &amp; vector models</a></li>
<li><a href="https://engineering.fb.com/data-infrastructure/faiss-a-library-for-efficient-similarity-search/">Faiss: A library for efficient similarity search</a></li>
<li><a href="https://web.archive.org/web/20210307210915/https://cloud.google.com/solutions/machine-learning/building-real-time-embeddings-similarity-matching-system">GCP - Building a real-time embeddings similarity matching system</a></li>
<li><a href="https://cloud.google.com/vertex-ai/docs/matching-engine/ann-service-overview">Vertex AI - Matching Engine ANN service overview</a></li>
</ul>
<h2>Redis VSS talks</h2>
<ul>
<li><a href="https://redis.com/blog/rediscover-redis-for-vector-similarity-search/">Rediscover Redis for Vector Similarity Search</a></li>
<li><a href="https://www.youtube.com/watch?v=_Lrbesg4DhY">RedisDays New York 2022 - Using AI to Reveal Trading Signals Buried in Corporate Filings</a></li>
<li><a href="https://mlops.community/vector-similarity-search-from-basics-to-production/">Vector Similarity Search: From Basics to Production</a></li>
<li><a href="https://redis.io/docs/stack/search/reference/vectors/">Redis Stack - Vector Similarity</a></li>
</ul>                </article>
            </aside><!-- /#featured -->
                <section id="content" class="body">
                    <h1>Other articles</h1>
                    <hr />
                    <ol id="posts-list" class="hfeed">

            <li><article class="hentry">
                <header>
                    <h1><a href="https://artefactory.github.io/redis-team-THM/using-redis.html" rel="bookmark"
                           title="Permalink to Using Redis">Using Redis</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2022-10-23T10:20:00+02:00">
                Published: Sun 23 October 2022
        </abbr>
		<br />
        <abbr class="modified" title="2022-10-23T10:20:00+02:00">
                Updated: Sun 23 October 2022
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="https://artefactory.github.io/redis-team-THM/author/michel-hua.html">Michel Hua</a>
        </address>
<p>In <a href="https://artefactory.github.io/redis-team-THM/category/redisearch.html">RediSearch</a>.</p>
<p>tags: <a href="https://artefactory.github.io/redis-team-THM/tag/redis.html">redis</a> </p>
</footer><!-- /.post-info -->                <p>The most common uses of Redis</p>
                <a class="readmore" href="https://artefactory.github.io/redis-team-THM/using-redis.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="https://artefactory.github.io/redis-team-THM/mlops-methodology.html" rel="bookmark"
                           title="Permalink to The Redis Hackathon">The Redis Hackathon</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2022-10-15T01:15:00+02:00">
                Published: Sat 15 October 2022
        </abbr>
		<br />
        <abbr class="modified" title="2022-10-15T01:15:00+02:00">
                Updated: Sat 15 October 2022
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="https://artefactory.github.io/redis-team-THM/author/michel-hua.html">Michel Hua</a>
        </address>
<p>In <a href="https://artefactory.github.io/redis-team-THM/category/redisearch.html">RediSearch</a>.</p>
<p>tags: <a href="https://artefactory.github.io/redis-team-THM/tag/mlops.html">mlops</a> <a href="https://artefactory.github.io/redis-team-THM/tag/hackathon.html">hackathon</a> </p>
</footer><!-- /.post-info -->                <p>The Redis Hackathon</p>
                <a class="readmore" href="https://artefactory.github.io/redis-team-THM/mlops-methodology.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>
                </ol><!-- /#posts-list -->
                </section><!-- /#content -->
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://github.com/artefactory/redis-team-THM/">GitHub</a></li>
                            <li><a href="https://www.artefact.com">Artefact</a></li>
                            <li><a href="https://redis.io/docs/stack">Redis Ventures</a></li>
                        </ul>
                </div><!-- /.blogroll -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

    <script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'G-H5TDMDHN41', 'auto');
    ga('send', 'pageview');
    </script>
</body>
</html>