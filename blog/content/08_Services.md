Title: Day 10 - Services Endpoints
Date: 2022-10-30 12:05
Modified: 2022-10-30 12:05
Category: MLOps
Tags: hackathon
Slug: services
Authors: Corentin Roineau
Summary: Services Endpoints

_Day 10 - When we studied the routes of our API_

# Different Endpoints of the project

In the project, we have three main *services* with which the user can interact, these services are each one of the addresses of the API generated by the **FastAPI** python framework.
Concretely, when the *user* will make a request, the application will communicate with the backend and the databases to answer the request.

## Route processing HTTP request

<div align="center">
    <img src="https://miro.medium.com/max/1304/1*qvwLjnj2ExA707IZyUXLLw.png" width=300>
</div>

# Recap of the different routes

Don't forget that you can call each API with your application to get the data from our databases

| Endpoint | Method | Description | Request Body | Response Body |
| --- | --- | --- | --- | --- |
| `/vectorsearch/text` | POST | Get a list of paper for the given text by the user | `{"user_text": "string", "categories": ["physics.space-ph"], "years": ["1969"], "number_of_results": 5,"search_type": "KNN"}` | `{"papers": [{"id": "123", "title": "title", "abstract": "abstract"}, ...]}` |
| `/vectorsearch/text/user` | POST | Get a list of paper for the given text by the user | `{"user_text": "string", "categories": ["physics.space-ph"], "years": ["1969"], "number_of_results": 5,"search_type": "KNN"}` | `{"papers": [{"id": "123", "title": "title", "abstract": "abstract"}, ...]}` |

## Example of curl call

```sh
curl 'localhost:8080/api/v1/paper/vectorsearch/text/user' \
    -H 'Content-Type: application/json' \
    --data-raw '{"user_text":"people review","search_type":"KNN","number_of_results":15,"years":[],"categories":[]}'
```
